<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>新建活动</title>
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet"  href="/static/jqm/jquery.mobile-1.4.0-rc.1.min.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400,700">
    <style>
        label.error {
            color: red;
            width: 100%;
            float: none;
        }
    </style>
	<script src="/static/js/dh5bp/vendor/jquery-1.10.2.min.js"></script>
	<script src="/static/jqm/jquery.mobile-1.4.0-rc.1.min.js"></script>

    <!-- make iOS behave like native when installed on home screen -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />

    <!-- all related iOS images -->
    <link rel="apple-touch-startup-image" href="/static/images/ios/startup-image.png">
    <link rel="apple-touch-icon" href="/static/images/ios/touch-icon-ipad.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/static/images/ios/touch-icon-ipad.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/static/images/ios/touch-icon-iphone-retina.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/static/images/ios/touch-icon-ipad-retina.png" />

    <script src='/static/js/jquery.validate.min.js' type="text/javascript"></script>
<script type="text/javascript">
  $(document).ready(function() {
    // disable ajax nav
    $.mobile.ajaxEnabled = false;

    document.addEventListener('WeixinJSBridgeReady',function onBridgeReady() {
      WeixinJSBridge.call('hideToolbar');
      WeixinJSBridge.call('hideOptionMenu');
    });
  });

    $(document).on("pageinit", function () {
        $('#addeventForm').validate({ // initialize the plugin
            rules: {
                event_title: {
                    minlength: 3,
                    maxlength: 50,
                    required: true
                },
                event_detail: {
                    minlength: 3,
                    maxlength: 1000,
                    required: true
                },
                event_limit: {
                  required: true,
                  min: 0,
                  max: 200
                },
                eventdate: "required",
                eventtime: "required"
            },
            messages: {
                event_title: {
                    required: "<li>请输入活动名称</li>",
                    minlength: "<li>请输入3个字以上</li>",
                    maxlength: "<li>最多为25字</li>",
                },
                event_detail: {
                    required: "<li>请输入活动详情</li>",
                    minlength: "<li>请输入3个字以上</li>",
                    maxlength: "<li>最多为500字</li>",
                },
                event_limit: {
                    min: "<li>最小人数为0</li>",
                    max: "<li>最大为数为200</li>",
                },
                eventdate: "请选择活动日期",
                eventtime: "请选择活动时间",
            },
            errorPlacement: function(error, element) {
                if (element.attr("name") == "event_title" || element.attr("name") == "eventdate"
                    || element.attr("name") == "eventtime") {
                    error.insertAfter($(element).parent());
                } else {
                    error.insertAfter(element);
                }
            }
        });
    });
</script>
</head>
<body >
<div data-role="page">
    <div role="main" class="ui-content jqm-content">

<form action="/add_event/" id="addeventForm" method="post" class="form-horizontal">

    <fieldset>
        <!-- Text input-->
        <div class="control-group">
          <!--<label class="control-label" for="event_title">活动名称</label> -->
          <div class="controls">
            <input id="event_title" name="event_title" type="text" placeholder="请输入活动名称" required>

          </div>
        </div>
        <!-- Textarea -->
        <div class="control-group">
          <!--<label class="control-label" for="event_detail">活动详情</label>-->
          <div class="controls">
            <textarea id="event_detail" name="event_detail" placeholder="请输入活动详情" required></textarea>
          </div>
        </div>
        <div data-role="fieldcontain">
            <label for="event_limit">人数限制：</label>
            <input type="range" name="event_limit" id="event_limit" value="10"  min="0" max="200" data-highlight="true" />
        </div>

        <div>
        <!--<label for="eventdate">活动日期：</label> -->
        <input name="eventdate" id="eventdate" type="date" placeholder="请输入活动日期" required>

        <!--<label for="eventtime">活动时间：</label> -->
        <input name="eventtime" id="eventtime" type="time" placeholder="请输入活动时间" required>
        </div>
        <!-- Button (Double) -->
        <div class="control-group">
          <label class="control-label" for="submit"></label>

            <div class="ui-body ui-body-b">
                    <button type="submit" id="submit" name="submit"  data-theme="b">发布</button>
                    <button type="reset" data-theme="d">取消</button>
            </div>
        </div>


    </fieldset>
</form>
    </div>
</div>
    </body>
</html>
