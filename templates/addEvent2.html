{% extends 'bootstrap2.html' %}
{% load crispy_forms_tags %}
{% load staticfiles %}

{% block bootstrap3_title %}{{ title }}{% endblock %}

{% block usercss %}
    <link rel="stylesheet" type="text/css" href='{% static "datetimepicker/css/jqm-datebox.css" %}' />
{% endblock %}

{% block bootstrap3_content %}
<form action="/add_event2/" id="addeventForm" method="post" class="form-horizontal">
    {% csrf_token %}
    <fieldset>

        <!-- Text input-->
        <div class="control-group">
          <label class="control-label" for="event_title">活动名称</label>
          <div class="controls">
            <input id="event_title" name="event_title" type="text" placeholder="请输入活动名称" required>

          </div>
        </div>
        <!-- Textarea -->
        <div class="control-group">
          <label class="control-label" for="event_detail">活动详情</label>
          <div class="controls">
            <textarea id="event_detail" name="event_detail" placeholder="请输入活动详情" required></textarea>
          </div>
        </div>
        <div data-role="fieldcontain">
            <label for="event_limit">人数限制：</label>
            <input type="range" name="event_limit" id="event_limit" value="10" min="0" max="200" data-highlight="true"  />
        </div>

        <div>
        <label for="eventdate">活动日期：</label>
        <input name="eventdate" id="eventdate" type="date" data-role="datebox"
           data-options='{"mode": "datebox"}' required>

        <label for="eventtime">活动时间：</label>
        <input name="eventtime" id="eventtime" type="date" data-role="datebox"
           data-options='{"mode": "timebox"}' required>
        </div>
        <!-- Button (Double) -->
        <div class="control-group">
          <label class="control-label" for="submit"></label>
          <div class="controls">
            <button id="submit" name="submit" class="btn btn-success">发布</button>
            <button id="reset" name="reset" class="btn btn-info">取消</button>
          </div>
        </div>


    </fieldset>
</form>
{% endblock %}

{% block js_post %}
{{ block.super }}
<script type="text/javascript">
    $(document).on("pageinit", function () {

        $('#addeventForm').validate({ // initialize the plugin
            rules: {
                event_title: {
                    minlength: 3,
                    maxlength: 50,
                    required: true
                },
                event_detail: {
                    minlength: 3,
                    maxlength: 1000,
                    required: true
                },
                eventdate: "required",
                eventtime: "required"
            },
            messages: {
                event_title: {
                    required: "<li>请输入活动名称</li>",
                    minlength: "<li>请输入3个字以上</li>",
                    maxlength: "<li>最多为25字</li>",
                },
                event_detail: {
                    required: "<li>请输入活动详情</li>",
                    minlength: "<li>请输入3个字以上</li>",
                    maxlength: "<li>最多为500字</li>",
                },
                eventdate: "请选择活动日期",
                eventtime: "请选择活动时间"
            }
        });
    });
</script>
<script src='{% static "bootstrap3_datetime/js/moment.min.js" %}'></script>
<script src='{% static "bootstrap3_datetime/js/bootstrap-datetimepicker.min.js" %}'></script>
<script src='{% static "uni_form/js/uni-form-validation.jquery.min.js" %}' type="text/javascript"></script>

<script src='{% static "js/jquery.validate.min.js" %}' type="text/javascript"></script>
<script src='{% static "datetimepicker/js/jqm-datebox.core.js" %}' type="text/javascript"></script>
<script src='{% static "datetimepicker/js/jqm-datebox.mode.datebox.js" %}' type="text/javascript"></script>
<script src='{% static "datetimepicker/js/jquery.mobile.datebox.i18n.zh-CN.utf8.js" %}' type="text/javascript"></script>
{% endblock %}

